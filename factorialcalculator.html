<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Factorial Calculator</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">  
  </head>
  <style>
  #res{
    margin-left:auto;
    margin-right: auto;
    width: 50%;
  }
  #press{
    position: relative;
    left: 25%;
  }
  .card{
    width: 50%;
  }
  #result1{
    word-spacing: 2rem;
  }
  @media(max-width: 769px){
    .card{
      width: 100%;
    }
  }
  </style>
  <body>
    <div class="container-fluid" id="body">
        <div class="card h-100 mx-auto mt-4" style="border:1px solid royalblue">
          <div class="w-100" style="border-bottom: 1px dashed royalblue;">
            <h1 class="h3 mt-2 text-center text-primary">THE FACTORIAL CALCULATOR</h1>
          </div>
            <h3 class="h4 text-center text-primary mt-4">CALCULATE THE <p class="mt-2"> 
                <select class="text-primary " name="sel" id="sel" onchange="inp()" style="border: 1px solid royalblue;outline-color: royalblue;">
                <option class="form-control" value="">Select any option</option class="form-control">
                <option class="form-control" value="factorial">Factorial</option>
                <option class="form-control" value="permutation">Permutation</option>
                <option class="form-control" value="combination">Combination</option>
                <option class="form-control" value="pTriangle">Pascal Triangle</option>
            </select>
          </p>
            </h3>
            <div id="res"></div>
            <h6 class="w-100 text-center text-primary h6 mt-3" id="result"></h6>
        </div>
    </div>
    <h6 class="w-100 text-center text-primary h6 mt-3" id="result1"></h6>
  </body>
</html>
<script>
function button() {
    let button = document.createElement("button");
    let div = document.createElement("div")
    div += button
    div.className="w-100"
    button.className = "btn btn-sm btn-primary mx-auto text-center text-white";
    button.innerHTML = "GET RESULT";
    button.id = "press"
    document.getElementById("res").appendChild(button);
    document.getElementById("press").addEventListener("click", display);
  }
  function notify() {
    small = document.createElement("small");
    small.innerHTML="Please Note that the value of <b>n</b> must be greater than or equal to the value of <b>r</b>"
    small.className="text-primary text-center mt-3 mb-4 d-block"
    small.id="small"
    document.getElementById("res").appendChild(small);
  }
  function input() {
    let p = document.createElement("p")
      const input = document.createElement("input");
      p.appendChild(input) 
      input.id = "put"
    input.className = "form-control w-100 text-primary bg-whitwe";
    input.setAttribute("placeholder","Input the value for n")
    input.setAttribute("type","number")
    result.innerHTML = " ";
    document.getElementById("res").innerHTML = " ";
    document.getElementById("result1").innerHTML = " ";
    document.getElementById("res").appendChild(p);
  }
  function input1() {
    const input1 = document.createElement("input");
    let p1 = document.createElement("p")
    // txt ='Enter the value of r: '
   
    // p1 += txt
    // console.log(p1);
      p1.appendChild(input1)
      input1.id = "iput1"
    input1.setAttribute("placeholder","Enter the value of r")
    input1.setAttribute("type","number")
    input1.className = "form-control w-100 text-primary bg-white";
    result.innerHTML = " ";  
    document.getElementById("res").appendChild(p1);
  }
  function inp() {
    if (sel.value =="factorial" || sel.value =="pTriangle") {
      input()
    button();
    }
    else if(sel.value ==""){
      document.getElementById("res").innerHTML = " ";
    }
    else{
      input()
      input1()
    button();
    notify();
    }  
  }
    function display(){
        if(sel.value=="factorial"){  
          factorial(put.value)
        }
        else if (sel.value =="permutation") {
         document.getElementById("small").innerHTML=" ";
          permutation(put.value,iput1.value)
        }
        else if (sel.value =="combination") {
          document.getElementById("small").innerHTML = "";
          combination(put.value,iput1.value)
        }
        else if (sel.value =="pTriangle") {
          binomial(put.value)
        }
    function factorial(s) {
      result.innerHTML = " ";
    let n = 1;
    for (i = 1; i <= s; i++) {
      n *= i;
    }
    if (s == ""){
      s = 0
     result.innerHTML = `The Factorial of ${s} is ${n}`
    }
    else if(s < 0){
      s = null
    }
    else{
     result.innerHTML = `The Factorial of ${s} is ${n}`
    }
     return n
     }  
    function second(s,p) {   
    let n = 1;
    for (i = 1; i <= s-p; i++) {
      n *= i;
    }
    return n 
  }
  function permutation(s,p) {
    result.innerHTML = " ";
    if(s < 0 || p < 0){
      return false
    }else if(s < p){
      return false
       }
     else{
      q =(parseFloat(factorial(s) / second(s,p)));
      result.innerHTML = `The Permutation of ${s} and ${p} is ${q}`
    }
    if (s=="" && p=="") {
      s=0; p=0
      result.innerHTML = `The Permutation of ${s} and ${p} is ${q}`
    }
  }
  function factorialp(p) {
    let n = 1;
    for (i = 1; i <= p; i++) {
      n *= i;
    }
    return n;
  }
  function combination(s,p) {
    result.innerHTML = " ";
    if(s < 0 || p < 0){
      return false
    }else if(s < p){
      return false
    }
    else if(s==" " && p==""){
      s = 0; p = 0; 
      result.innerHTML = `The Combination of ${s} and ${p} is ${q}`
    } 
    else{
    q = (factorial(s) / (second(s,p) * factorialp(p)));
    result.innerHTML = `The Combination of ${s} and ${p} is ${q}`
    }
    if (s=="" && p=="") {
      s=0; p=0
      result.innerHTML = `The Permutation of ${s} and ${p} is ${q}`
    }
  }
  function binomial(s) {
     p = s
    for (let g = 0; g <= s; g++) {
      result1.innerHTML += `<div class ="mt-2"style="border:1px solid royalblue"></div>`;
      for (let h = 0; h <= p; h++) {
        if ((g, h) ===0) {
           let  t = 1;
          result1.innerHTML += `${t} `;
        } else if (g < h) {
          t = null;
        }else {
            t = factorialp(g) / (second(g,h) * factorialp(h));
            result1.innerHTML += `${t} `; 
          }
        }
     }
    }
  }
</script>
